@startuml

start

:获取当前用户ID;
:根据当前用户ID和目标用户ID从数据库中获取聊天消息列表;
:创建空列表用于存储消息的映射;
:遍历聊天消息列表;
:将消息转换为Map对象;
:获取发送用户和接收用户的信息;
:将发送用户的头像、接收用户的头像、发送用户的昵称和接收用户的昵称添加到Map中;
:将Map添加到消息映射列表中;
:返回消息映射列表;

stop

@enduml
